jQuery(document).ready(function(a){var b=a(".comment-form-url input, .comment-form-author input, .comment-form-email input, .comment-form-comment textarea"),c;a(b).blur(function(){a(this).val()?a(this).parent().addClass("keydesign-not-empty"):a(this).parent().removeClass("keydesign-not-empty")}),c=a(".keydesign-label input, .keydesign-label textarea"),a(c).blur(function(){a(this).val()?a(this).closest(".keydesign-label").addClass("keydesign-not-empty"):a(this).closest(".keydesign-label").removeClass("keydesign-not-empty")})});var isOutOfViewport=function(c){var b=c.getBoundingClientRect(),a={};return a.top=b.top<0,a.left=b.left<0,a.bottom=b.bottom>(window.innerHeight||document.documentElement.clientHeight),a.right=b.right>(window.innerWidth||document.documentElement.clientWidth),a.any=a.top||a.left||a.bottom||a.right,a};(function(a){var f=1025,i,h,d,b,e,o,k,z,g,v,m,s,j,r,n,q,p,c;const u=document.querySelectorAll('.menu-item');u.forEach(a=>{a.addEventListener('mouseover',function(){this.classList.add('hover-intent'),this.parentNode.classList.add('hover-intent'),document.addEventListener('keydown',b=>{b.key==='Escape'&&(a.classList.remove('hover-intent'),a.parentNode.classList.remove('hover-intent'),a.parentNode.parentNode.classList.remove('hover-intent'))})}),a.addEventListener('mouseleave',function(){this.classList.remove('hover-intent'),this.parentNode.classList.remove('hover-intent'),document.addEventListener('keydown',b=>{b.key==='Escape'&&(a.classList.remove('hover-intent'),a.parentNode.classList.remove('hover-intent'),a.parentNode.parentNode.classList.remove('hover-intent'))})})}),y();function y(){u.forEach(b=>{var a=b.querySelectorAll('.sub-menu');a.forEach(b=>{if(typeof a!='undefined'){var c=isOutOfViewport(b);c.right?(b.classList.add('is-out-of-viewport'),b.parentElement.parentElement.classList.add('is-out-of-viewport')):(b.classList.remove('is-out-of-viewport'),b.parentElement.parentElement.classList.remove('is-out-of-viewport'))}})})}if(window.addEventListener('resize',y),r=a('.nav-container'),n=r.find('#nav-toggle'),q=r.find('#main-navigation-wrapper'),p=r.find('#nav'),c={expand:"Expand child menu",collapse:"Collapse child menu"},a('.menu-item a, .dropdown button').on('keyup',function(p){var b,i,j,d,l,h,e,k,g;const o=a(this).parent().parent().parent().find('.sub-menu').prev('.dropdown-toggle').attr('aria-expanded'),n=a(this).closest('.menu-item').find('.dropdown-toggle').attr('aria-expanded'),m=a(this).parent().parent().hasClass('sub-menu');(o==='true'||n==='true')&&a('.dropdown').find(':focus').length!==0&&p.code==='Escape'&&(b=a(this).parent().parent().parent(),i=b.find('.screen-reader-text'),j=b.find('.dropdown-toggle'),b.find('.sub-menu').removeClass('toggled-on'),b.find('.dropdown-toggle').removeClass('toggled-on'),b.find('.dropdown').removeClass('toggled-on'),j.attr('aria-expanded','false'),i.text(c.expand),m===!0&&b.find('.dropdown-toggle:first').trigger('focus')),window.innerWidth>f&&(d=a(this).parent().prev(),l=d.find('.screen-reader-text'),h=d.find('.dropdown-toggle'),d.find('.sub-menu').removeClass('toggled-on'),d.find('.dropdown-toggle').removeClass('toggled-on'),d.find('.dropdown').removeClass('toggled-on'),h.attr('aria-expanded','false'),l.text(c.expand),e=a(this).parent().next(),k=e.find('.screen-reader-text'),g=e.find('.dropdown-toggle'),e.find('.sub-menu').removeClass('toggled-on'),e.find('.dropdown-toggle').removeClass('toggled-on'),e.find('.dropdown').removeClass('toggled-on'),g.attr('aria-expanded','false'),k.text(c.expand))}),q.find('.menu-item-has-children').attr('aria-haspopup','true'),a('.dropdown-toggle').each(function(){a(this).attr('aria-label',`${c.expand_for} ${a(this).prev().text()}`)}),q.find('.dropdown-toggle').on('click',function(d){var b=a(this).nextAll('.sub-menu');a(this).toggleClass('toggled-on'),b.toggleClass('toggled-on'),a(this).attr('aria-expanded',a(this).attr('aria-expanded')==='false'?'true':'false'),a(this).attr('aria-label',a(this).attr('aria-label')===`${c.collapse_for} ${a(this).prev().text()}`?`${c.expand_for} ${a(this).prev().text()}`:`${c.collapse_for} ${a(this).prev().text()}`)}),a('.sub-menu .menu-item-has-children').parent('.sub-menu').addClass('has-sub-menu'),a('.menu-item a, button.dropdown-toggle').on('keydown',function(b){if(['ArrowUp','ArrowDown','ArrowLeft','ArrowRight'].indexOf(b.code)==-1)return;switch(b.code){case'ArrowLeft':b.stopPropagation(),a(this).hasClass('dropdown-toggle')?a(this).prev('a').trigger('focus'):a(this).parent().prev().children('button.dropdown-toggle').length?a(this).parent().prev().children('button.dropdown-toggle').trigger('focus'):a(this).parent().prev().children('a').trigger('focus'),a(this).is('ul ul ul.sub-menu.toggled-on li:first-child a')&&a(this).parents('ul.sub-menu.toggled-on li').children('button.dropdown-toggle').trigger('focus');break;case'ArrowRight':b.stopPropagation(),a(this).next('button.dropdown-toggle').length?a(this).next('button.dropdown-toggle').trigger('focus'):a(this).parent().next().find('input').length?a(this).parent().next().find('input').trigger('focus'):a(this).parent().next().children('a').trigger('focus'),a(this).is('ul.sub-menu .dropdown-toggle.toggled-on')&&a(this).parent().find('ul.sub-menu li:first-child a').trigger('focus');break;case'ArrowDown':b.stopPropagation(),a(this).next().length?a(this).next().find('li:first-child a').first().trigger('focus'):a(this).parent().next().find('input').length?a(this).parent().next().find('input').trigger('focus'):a(this).parent().next().children('a').trigger('focus'),a(this).is('ul.sub-menu a')&&a(this).next('button.dropdown-toggle').length&&a(this).parent().next().children('a').trigger('focus'),a(this).is('ul.sub-menu .dropdown-toggle')&&a(this).parent().next().children('.dropdown-toggle').length&&a(this).parent().next().children('.dropdown-toggle').trigger('focus');break;case'ArrowUp':b.stopPropagation(),a(this).parent().prev().length?a(this).parent().prev().children('a').trigger('focus'):a(this).parents('ul').first().prev('.dropdown-toggle.toggled-on').trigger('focus'),a(this).is('ul.sub-menu .dropdown-toggle')&&a(this).parent().prev().children('.dropdown-toggle').length&&a(this).parent().prev().children('.dropdown-toggle').trigger('focus');break}}),d=document.getElementById('nav'),!d)return;if(b=document.getElementById('nav-toggle'),typeof b=='undefined')return;i=document.getElementsByTagName('html')[0],h=document.getElementsByTagName('body')[0],e=d.getElementsByTagName('ul')[0],o=document.getElementById('main-navigation-wrapper');function w(){var m,k,g;if(!n.length)return;if(window.innerWidth<f&&n.add(p).attr('aria-expanded','false'),n.on('click',function(){a(this).add(q).toggleClass('toggled-on'),a(this).attr('aria-expanded',a(this).attr('aria-expanded')==='false'?'true':'false'),a('#nav-toggle-label').text(a('#nav-toggle-label').text()===c.expand_toggle?c.collapse_toggle:c.expand_toggle),a(this).attr('aria-label',a(this).attr('aria-label')===c.expand_toggle?c.collapse_toggle:c.expand_toggle),a(this).add(p).attr('aria-expanded',a(this).add(p).attr('aria-expanded')==='false'?'true':'false'),window.scrollTo(0,0)}),typeof e=='undefined'){b.style.display='none';return}if(window.innerWidth<f&&e.setAttribute('aria-expanded','false'),e.className.indexOf('nav-menu')===-1&&(e.className+=' nav-menu'),window.innerWidth<f){s=null,j=null,k=d.querySelectorAll(['.nav-primary a[href]','.nav-primary button']);for(g=0;g<k.length;g++)k[g].addEventListener('keydown',t)}b.onclick=function(){d.className.indexOf('is-active')!==-1?l():(i.className+=' disable-scroll',h.className+=' js-nav-active',d.className+=' is-active',b.className+=' is-active',b.setAttribute('aria-expanded','true'),e.setAttribute('aria-expanded','true'),b.addEventListener('keydown',t,!1))},document.addEventListener('keyup',a=>{(a.code=='Escape'||a.code=='Esc')&&d.className.indexOf('is-active')!==-1&&l()}),o.onclick=function(a){a.target==o&&d.className.indexOf('is-active')!==-1&&l()}}window.innerWidth<f&&w();function l(){b.removeEventListener('keydown',t,!1),i.className=i.className.replace(' disable-scroll',''),h.className=h.className.replace(' js-nav-active',''),d.className=d.className.replace(' is-active',''),b.className=b.className.replace(' is-active',''),b.setAttribute('aria-expanded','false'),e.setAttribute('aria-expanded','false'),a('#nav-toggle-label').text(c.expand_toggle),b.focus()}k=e.getElementsByTagName('a'),z=e.getElementsByTagName('ul');for(g=0,v=k.length;g<v;g++)k[g].addEventListener('focus',x,!0),k[g].addEventListener('blur',x,!0);function x(){for(var a=this;a.className.indexOf('nav-menu')===-1;)a.tagName.toLowerCase()==='li'&&(a.className.indexOf('focus')!==-1?a.className=a.className.replace(' focus',''):a.className+=' focus'),a=a.parentElement}function t(a){m=[...d.querySelectorAll('a, button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])')].filter(a=>!a.hasAttribute('disabled')).filter(a=>!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)),s=m[0],j=m[m.length-1],j===a.target&&a.code==='Tab'&&!a.shiftKey&&b.focus(),s===a.target&&a.code==='Tab'&&a.shiftKey&&b.focus(),b===a.target&&a.code==='Tab'&&a.shiftKey&&j.focus()}a(window).on('resize',()=>{window.innerWidth>f&&h.className.indexOf('js-nav-active')!==-1?l():window.innerWidth<f&&typeof window.mobileNavInstance=='undefined'&&w()})})(jQuery)